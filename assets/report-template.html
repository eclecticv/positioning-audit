<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Positioning Report — {{COMPANY_NAME}}</title>
<style>
  @page {
    size: A4;
    margin: 0;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    color: #1a1a2e;
    background: #fff;
    line-height: 1.5;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .page {
    width: 210mm;
    min-height: 297mm;
    padding: 28mm 24mm 20mm;
    position: relative;
  }

  /* ── Header ─────────────────────────────── */

  .header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 28px;
    padding-bottom: 20px;
    border-bottom: 3px solid #1a1a2e;
  }

  .header-left h1 {
    font-size: 26px;
    font-weight: 800;
    letter-spacing: -0.5px;
    line-height: 1.2;
  }

  .header-left .subtitle {
    font-size: 13px;
    color: #666;
    margin-top: 4px;
  }

  .header-right {
    text-align: right;
    font-size: 12px;
    color: #666;
  }

  .header-right .url {
    color: #1a1a2e;
    font-weight: 600;
    font-size: 13px;
  }

  /* ── Grade Cards ────────────────────────── */

  .grades {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 28px;
  }

  .grade-card {
    border-radius: 10px;
    padding: 16px 14px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .grade-card .category {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.85;
  }

  .grade-card .grade {
    font-size: 42px;
    font-weight: 900;
    line-height: 1.1;
    margin: 6px 0 4px;
  }

  .grade-card .detail {
    font-size: 11px;
    opacity: 0.75;
    font-weight: 500;
  }

  /* Grade color schemes */
  .grade-a { background: #e8f5e9; color: #1b5e20; }
  .grade-b { background: #e3f2fd; color: #0d47a1; }
  .grade-c { background: #fff8e1; color: #e65100; }
  .grade-d { background: #fbe9e7; color: #bf360c; }
  .grade-f { background: #ffebee; color: #b71c1c; }

  /* ── Sections ───────────────────────────── */

  .section {
    margin-bottom: 24px;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }

  .section-header h2 {
    font-size: 16px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }

  .section-header .icon {
    font-size: 18px;
  }

  .section-header::after {
    content: '';
    flex: 1;
    height: 2px;
    background: #e0e0e0;
    margin-left: 8px;
  }

  /* ── Findings ───────────────────────────── */

  .finding {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
    padding: 10px 12px;
    border-radius: 8px;
    font-size: 13px;
    line-height: 1.45;
  }

  .finding-pass {
    background: #f1f8e9;
    border-left: 3px solid #4caf50;
  }

  .finding-fail {
    background: #fff3e0;
    border-left: 3px solid #ff9800;
  }

  .finding .marker {
    font-size: 15px;
    flex-shrink: 0;
    margin-top: 1px;
  }

  .finding .content {
    flex: 1;
  }

  .finding .observation {
    font-weight: 600;
    color: #1a1a2e;
  }

  .finding .recommendation {
    color: #555;
    margin-top: 2px;
  }

  .finding .citation {
    font-size: 11px;
    color: #888;
    margin-top: 3px;
    font-style: italic;
  }

  .finding .code {
    font-size: 10px;
    font-weight: 700;
    color: #999;
    background: rgba(0,0,0,0.05);
    padding: 1px 5px;
    border-radius: 3px;
    font-family: 'SF Mono', 'Fira Code', monospace;
  }

  /* ── Footer ─────────────────────────────── */

  .footer {
    margin-top: 32px;
    padding-top: 16px;
    border-top: 2px solid #e0e0e0;
    font-size: 11px;
    color: #999;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
  }

  .footer .research-note {
    max-width: 75%;
    line-height: 1.4;
  }

  .footer .branding {
    text-align: right;
    font-weight: 600;
    color: #bbb;
  }

  /* ── Progress Bar ───────────────────────── */

  .progress-bar {
    display: flex;
    gap: 2px;
    margin-top: 6px;
  }

  .progress-bar .block {
    width: 8px;
    height: 8px;
    border-radius: 2px;
  }

  .block-filled { background: currentColor; opacity: 0.7; }
  .block-empty { background: currentColor; opacity: 0.15; }
</style>
</head>
<body>
<div class="page">

  <!-- ═══ HEADER ═══ -->
  <div class="header">
    <div class="header-left">
      <h1>Positioning Report</h1>
      <div class="subtitle">Framework-backed analysis of 42 positioning checks</div>
    </div>
    <div class="header-right">
      <div class="url">{{COMPANY_NAME}}</div>
      <div>{{URL}}</div>
      <div>{{DATE}}</div>
    </div>
  </div>

  <!-- ═══ GRADE CARDS (3×2 grid) ═══ -->
  <div class="grades">
    <div class="grade-card {{DC_GRADE_CLASS}}">
      <div class="category">Dunford Canvas</div>
      <div class="grade">{{DC_GRADE}}</div>
      <div class="detail">{{DC_PASS}}/{{DC_TOTAL}} passing</div>
      <div class="progress-bar">{{DC_PROGRESS}}</div>
    </div>
    <div class="grade-card {{FQ_GRADE_CLASS}}">
      <div class="category">Fletch Questions</div>
      <div class="grade">{{FQ_GRADE}}</div>
      <div class="detail">{{FQ_PASS}}/{{FQ_TOTAL}} passing</div>
      <div class="progress-bar">{{FQ_PROGRESS}}</div>
    </div>
    <div class="grade-card {{MS_GRADE_CLASS}}">
      <div class="category">Moore Statement</div>
      <div class="grade">{{MS_GRADE}}</div>
      <div class="detail">{{MS_PASS}}/{{MS_TOTAL}} passing</div>
      <div class="progress-bar">{{MS_PROGRESS}}</div>
    </div>
    <div class="grade-card {{MH_GRADE_CLASS}}">
      <div class="category">MECLABS Heuristic</div>
      <div class="grade">{{MH_GRADE}}</div>
      <div class="detail">{{MH_PASS}}/{{MH_TOTAL}} passing</div>
      <div class="progress-bar">{{MH_PROGRESS}}</div>
    </div>
    <div class="grade-card {{CF_GRADE_CLASS}}">
      <div class="category">Competitive Framing</div>
      <div class="grade">{{CF_GRADE}}</div>
      <div class="detail">{{CF_PASS}}/{{CF_TOTAL}} passing</div>
      <div class="progress-bar">{{CF_PROGRESS}}</div>
    </div>
    <div class="grade-card {{AP_GRADE_CLASS}}">
      <div class="category">Anti-Patterns</div>
      <div class="grade">{{AP_GRADE}}</div>
      <div class="detail">{{AP_PASS}}/{{AP_TOTAL}} passing</div>
      <div class="progress-bar">{{AP_PROGRESS}}</div>
    </div>
  </div>

  <!-- ═══ TOP WINS ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="icon">&#9733;</span>
      <h2>Top Wins</h2>
    </div>
    {{WINS}}
    <!--
    Example win entry:
    <div class="finding finding-pass">
      <span class="marker">&#10003;</span>
      <div class="content">
        <span class="code">DC-1</span>
        <span class="observation">Clear competitive frame — "Replace your spreadsheets"</span>
      </div>
    </div>
    -->
  </div>

  <!-- ═══ TOP FIXES ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="icon">&#9888;</span>
      <h2>Top Fixes</h2>
    </div>
    {{FIXES}}
    <!--
    Example fix entry:
    <div class="finding finding-fail">
      <span class="marker">&#10007;</span>
      <div class="content">
        <span class="code">FQ-1</span>
        <span class="observation">Headline doesn't pass the 5-second test — "Unlock Your Potential"</span>
        <div class="recommendation">Name what the product does in the headline</div>
        <div class="citation">Fletch PMM homepage teardown methodology</div>
      </div>
    </div>
    -->
  </div>

  <!-- ═══ FOOTER ═══ -->
  <div class="footer">
    <div class="research-note">
      Analysis backed by {{FRAMEWORK_LIST}}.
    </div>
    <div class="branding">
      Positioning Grader
    </div>
  </div>

</div>
</body>
</html>
